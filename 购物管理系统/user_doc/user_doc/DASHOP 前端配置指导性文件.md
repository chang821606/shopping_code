## DASHOP 前端配置指导性文件

以下文档以python教学环境为准

### 安装nginx

```
# 安装nginx
tarena@aid:~$ sudo apt-get install nginx

# 检查nginx版本
tarena@aid:~$ nginx -v
nginx version: nginx/1.14.0 (Ubuntu)

# 查看nginx启动状况
tarena@aid:~$ sudo service nginx status

# 启动/重启/停止等服务
tarena@aid:~$ sudo service nginx start/restart/stop


在浏览器中可以输入本地的回环地址查看
http://127.0.0.1
```

ubuntu版本中的nginx HTML 页面的路径为 　**/var/www/html**

####　nginx　配置文件

**/etc/nginx/site-avaliable/default**　　(每次修改配置文件后要重启nginx服务)

```nginx
##
# You should look at the following URL's in order to grasp a solid understanding
# ........省略不写了
##

# Default server configuration
#
server {
	listen 80 default_server;  # 指定监听端口
	listen [::]:80 default_server;

	# SSL configuration
	#
	# listen 443 ssl default_server;
	# listen [::]:443 ssl default_server;
	#
	# Note: You should disable gzip for SSL traffic.
	# See: https://bugs.debian.org/773332
	#
	# Read up on ssl_ciphers to ensure a secure configuration.
	# See: https://bugs.debian.org/765782
	#
	# Self signed certs generated by the ssl-cert package
	# Don't use them in a production server!
	#
	# include snippets/snakeoil.conf;

	root /dashop/html;

	# Add index.php to the list if you are using PHP
	index index.html index.htm index.nginx-debian.html;

	server_name 127.0.0.1 localhost;


	location /statics {
		alias /dashop/html/statics;　　# dashop 前端静态文件配置
	}

	location /images {
		alias /dashop/html/images;　　# 图片文件配置
	}


	location / {
		root /dashop/html;　# 指定前端页面路径
		# First attempt to serve request as file, then
		# as directory, then fall back to displaying a 404.
		try_files $uri $uri/ =404;
	}
	error_page 404 405 503 403 504 /404.html;   #错误页面配置信息
    location = /404.html {
    root /dashop/html;
  }
	# pass PHP scripts to FastCGI server
	#
	#location ~ \.php$ {
	#	include snippets/fastcgi-php.conf;
	#
	#	# With php-fpm (or other unix sockets):
	#	fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
	#	# With php-cgi (or other tcp sockets):
	#	fastcgi_pass 127.0.0.1:9000;
	#}

	# deny access to .htaccess files, if Apache's document root
	# concurs with nginx's one
	#
	#location ~ /\.ht {
	#	deny all;
	#}
}

#  以下是虚拟主机配置　不用看
# Virtual Host configuration for example.com
#
# You can move that to a different file under sites-available/ and symlink that
# to sites-enabled/ to enable it.
#
#server {
#	listen 80;
#	listen [::]:80;
#
#	server_name example.com;
#
#	root /var/www/example.com;
#	index index.html;
#
#	location / {
#		try_files $uri $uri/ =404;
#	}
#}

```

#### 前端页面路径

nginx 默认的路径为　**/var/www/html**

```
我们在此重新建立一个文件夹：
前端文件配置方法：
tarena@aid:~$ cd　/
tarena@aid:/$ sudo mkdir dashop

# 将前端文件解压到相应的目录　（dada.zip）
tarena@aid:/dashop$ unzip dada.zip
```

在配置文件中进行修改：**/dashop/html**

#### 前端页面目录结构:

```

html
├── active.html
├── addressAdmin.html
．．．．．．．．
├── register.html
├── search_list.html
├── images
│   │   ├── arrow-right.png
│   │   ├── index_banner1.jpg
│   │   └── recommend_img4.png
	．．．．．．．．．．．
│   ├── regist.jpg
│   └── search
│       └── up.png
└── statics
    ├── css
    │   ├── 404.css
    ．．．．．．．．．
    │   └── slide.css
    ├── jquery
    │   └── jquery.cookie.js
    └── js
        ├── base.js
        ．．．．．．．
        ├── products.js
        ├── slide.js
        └── slide.min.js
```

#### html中静态文件以及图片的引用路径

```html
# 静态文件路径是statics/js[css]/filename
<link href="statics/css/index.css" rel="Stylesheet" />
<link href="statics/css/animate.css" rel="Stylesheet" />
<link rel="stylesheet" href="statics/css/slide.css" /> 

# 图片路径为 images/file_folder/filename
<img id="aside_image3" src="images/index/index_Sbanner_img3.png"/>

```



　

